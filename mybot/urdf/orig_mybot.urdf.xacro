<?xml version="1.0" encoding="utf-8"?>
<robot
  xmlns:xacro="http://www.ros.org/wiki/xacro"
  name="mybot">

  <material name="white">
    <color rgba="1.0 1.0 1.0 1.0" />
  </material>

  <material name="pink">
    <color rgba="1.0 0.5 0.5 1.0" />
  </material>

  <xacro:macro name="inertial_box" params="mass x y z *origin">
    <inertial>
      <xacro:insert_block name="origin" />
      <mass value="${mass}" />
      <inertia ixx="${(1/12) * mass * (y*y+z*z)}" ixy="0.0" ixz="0.0"
        iyy="${(1/12) * mass * (x*x+z*z)}" iyz="0.0"
        izz="${(1/12) * mass * (x*x+y*y)}" />
    </inertial>
  </xacro:macro>

  <link
    name="base">
    <inertial>
      <origin
        xyz="-0.0024988 0.00012827 0.034299"
        rpy="0 0 0" />
      <mass
        value="1.2649" />
      <inertia
        ixx="0.002533"
        ixy="-7.2003E-06"
        ixz="8.109E-05"
        iyy="0.0023931"
        iyz="-4.1626E-06"
        izz="0.0041505" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot/meshes/base.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot/meshes/base.STL" />
      </geometry>
    </collision>
  </link>
  <link
    name="shoulder">
    <inertial>
      <origin
        xyz="-0.00087897 0.0045493 0.030537"
        rpy="0 0 0" />
      <mass
        value="0.69097" />
      <inertia
        ixx="0.00068689"
        ixy="3.5558E-06"
        ixz="1.3086E-05"
        iyy="0.00097033"
        iyz="-1.1454E-05"
        izz="0.0012375" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot/meshes/shoulder.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot/meshes/shoulder.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="joint1"
    type="revolute">
    <origin
      xyz="0 0 0.106"
      rpy="0 0 0" />
    <parent
      link="base" />
    <child
      link="shoulder" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-3.1416"
      upper="3.1416"
      effort="1000"
      velocity="50" />
  </joint>
  <link
    name="link1">
    <inertial>
      <origin
        xyz="-0.043702 -0.0089462 0.088598"
        rpy="0 0 0" />
      <mass
        value="0.50956" />
      <inertia
        ixx="0.0022353"
        ixy="5.0525E-05"
        ixz="0.00097691"
        iyy="0.0027432"
        iyz="-0.00010402"
        izz="0.00069497" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot/meshes/link1.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot/meshes/link1.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="joint2"
    type="revolute">
    <origin
      xyz="0.0205 0 0.06"
      rpy="0 0 0" />
    <parent
      link="shoulder" />
    <child
      link="link1" />
    <axis
      xyz="0 1 0" />
    <!-- got limits by manually running rviz -->
    <limit
      lower="-1.10"
      upper="2.00"
      effort="1000"
      velocity="50" />
  </joint>
  <link
    name="link2">
    <inertial>
      <origin
        xyz="0.10764 0.020329 0.0017657"
        rpy="0 0 0" />
      <mass
        value="0.31089" />
      <inertia
        ixx="9.4078E-05"
        ixy="1.6899E-07"
        ixz="-2.6416E-05"
        iyy="0.0017716"
        iyz="2.7724E-09"
        izz="0.001704" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot/meshes/link2.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot/meshes/link2.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="joint3"
    type="revolute">
    <origin
      xyz="-0.084775 0.025743 0.16726"
      rpy="0 0 0" />
    <parent
      link="link1" />
    <child
      link="link2" />
    <axis
      xyz="0 1 0" />
    <!-- got limits by manually running rviz -->
    <!-- The STL file is slight tilted -->
    <limit
      lower="-4.6"
      upper=".5"
      effort="1000"
      velocity="50" />
  </joint>
  <link
    name="end_effector">
    <inertial>
      <origin
        xyz="0.10059 -0.0011654 -0.0095762"
        rpy="0 0 0" />
      <mass
        value="0.21582" />
      <inertia
        ixx="5.0445E-05"
        ixy="-1.9198E-05"
        ixz="3.0188E-05"
        iyy="0.00021644"
        iyz="2.8871E-06"
        izz="0.00023311" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot/meshes/end_effector.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mybot/meshes/end_effector.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="joint4"
    type="revolute">
    <origin
      xyz="0.20962 0 0.0034385"
      rpy="0 0 0" />
    <parent
      link="link2" />
    <child
      link="end_effector" />
    <axis
      xyz="0 1 0" />
    <!-- got limits by manually running rviz -->
    <limit
      lower="-2.0"
      upper="1.8"
      effort="1000"
      velocity="50" />
  </joint>
</robot>